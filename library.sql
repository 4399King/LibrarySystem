CREATE DATABASE library;
USE library;

SET NAMES utf8;
START TRANSACTION;
CREATE TABLE `admin` ( `admin_id` BIGINT NOT NULL PRIMARY KEY, `password` VARCHAR ( 15 ) NOT NULL, `username` VARCHAR ( 15 ) DEFAULT NULL ) ENGINE = INNODB DEFAULT CHARSET = utf8;
INSERT INTO `admin`
VALUES
	( 123456, '123456', 'admin' );
CREATE TABLE `book_info` (
	`book_id` BIGINT NOT NULL PRIMARY KEY,
	`name` VARCHAR ( 20 ) NOT NULL,
	`author` VARCHAR ( 15 ) NOT NULL,
	`publish` VARCHAR ( 20 ) NOT NULL,
	`ISBN` VARCHAR ( 15 ) NOT NULL,
	`introduction` text,
	`language` VARCHAR ( 4 ) NOT NULL,
	`price` DECIMAL ( 10, 2 ) NOT NULL,
	`pub_date` date NOT NULL,
	`class_id` INT DEFAULT NULL,
	`number` INT DEFAULT NULL 
) ENGINE = INNODB DEFAULT CHARSET = utf8;
ALTER TABLE `book_info` MODIFY `book_id` BIGINT NOT NULL AUTO_INCREMENT,
AUTO_INCREMENT = 1;
INSERT INTO `book_info`
VALUES
	( 1, '堂吉诃德', '米格尔·德·塞万提斯 ', '北京十月文艺出版社', '9787530216835', '一部经典小说，讲述了一个男人为复兴骑士精神和为世界带来正义而踏上征程的故事', '中文', '35.00', '2017-06-01', 9, 1 ),
	( 2, '魔戒', '	J.R.R.托尔金 ', '沈阳出版社', '9787544138000', '一部史诗般的奇幻小说，讲述了一个霍比特人为摧毁一枚强大戒指而踏上征程的故事', '中文', '26.80', '2009-01-06', 7, 1 ),
	( 3, '哈利·波特与魔法石', 'J.K.罗琳 ', '朝华出版社', '9787505414709', '这是一部关于一个年轻巫师在霍格沃茨魔法学校冒险的系列小说的第一本书', '中文', '15.00', '2007-04-03', 7, 1 ),
	( 4, '十个小印第人', '阿加莎·克里斯蒂', '江苏文艺出版社', '9787539943893', '一部推理小说，讲述了十个陌生人被邀请到一个岛上，然后一个接一个地被杀害的故事', '中文', '74.80', '2011-05-05', 7, 1 ),
	( 5, '人类简史', '[以色列] 尤瓦尔·赫拉利 ', '中信出版社', '9787508647357', '十万年前，地球上至少有六种不同的人\r\n但今日，世界舞台为什么只剩下了我们自己？\r\n从只能啃食虎狼吃剩的残骨的猿人，到跃居食物链顶端的智人，\r\n从雪维洞穴壁上的原始人手印，到阿姆斯壮踩上月球的脚印，\r\n从认知革命、农业革命，到科学革命、生物科技革命，\r\n我们如何登上世界舞台成为万物之灵的？\r\n从公元前1776年的《汉摩拉比法典》，到1776年的美国独立宣言，\r\n从帝国主义、资本主义，到自由主义、消费主义，\r\n从兽欲，到物欲，从兽性、人性，到神性，\r\n我们了解自己吗？我们过得更快乐吗？\r\n我们究竟希望自己得到什么、变成什么？', '英文', '68.00', '2014-11-01', 11, 1 ),
	( 6, '爱丽丝漫游奇境记', '路易斯·卡罗尔 ', '中国海关出版社', '9787801656087', '一部奇幻小说，讲述了一个女孩掉进兔子洞，进入一个有说话动物和奇怪生物的世界的故事', '中文', '358.20', '2009-04-06', 11, 1 ),
	( 7, '三体', '刘慈欣', '机械工业出版社', '9787111126768', '一部硬科幻小说，讲述了地球人类文明和三体文明的故事', '中文', '88.00', '2018-08-05', 6, 1 ),
	( 8, '方向', '马克-安托万·马修 ', '后浪丨北京联合出版公司', '9787020125265', '《方向》即便在马修的作品中也算得最独特的：不着一字，尽得风流。原作本无一字，标题只是一个→，出版时才加了个书名Sens——既可以指“方向”，也可以指“意义”。 《方向》没有“字”，但有自己的语言——请读者在尽情释放想象力和独立思考之余，破解作者的密码，听听作者对荒诞的看法。', '中文', '99.80', '2017-04-01', 9, 1 ),
	( 9, '画的秘密', '马克-安托万·马修 ', '北京联合出版公司·后浪出版公司', '9787550265608', '一本关于友情的疗伤图像小说，直击人内心最为隐秘的情感。 一部追寻艺术的纸上悬疑电影，揭示命运宇宙中奇诡的真相。 ★ 《画的秘密》荣获欧洲第二大漫画节“瑞士谢尔漫画节最佳作品奖”。 作者曾两度夺得安古兰国际漫画节重要奖项。 ★ 《画的秘密》是一部罕见的、结合了拼贴、镜像、3D等叙事手法的实验型漫画作品。作者巧妙地调度光线、纬度、时间、记忆，在一个悬念重重又温情治愈的故事中，注入了一个有关命运的哲学议题。', '中文', '60.00', '2016-01-01', 9, 0 ),
	( 10, '永恒的终结2：时间裂缝', '刘慈欣 ', '北京十月文艺出版社', '9787530216859', '	一部硬科幻小说，讲述了宇宙中不同文明之间的冲突', '中文', '39.50', '2017-06-01', 9, 1 ),
	( 11, '控方证人', '阿加莎·克里斯蒂 ', '新星出版社', '9787513325745', '经典同名话剧六十年常演不衰； 比利•怀尔德执导同名电影，获奥斯卡金像奖六项提名！ 阿加莎对神秘事物的向往大约来自于一种女性祖先的遗传，在足不出户的生活里，生出对世界又好奇又恐惧的幻想。 ——王安忆 伦纳德•沃尔被控谋杀富婆艾米丽以图染指其巨额遗产，他却一再表明自己的无辜。伦纳德的妻子是唯一能够证明他无罪的证人，却以控方证人的身份出庭指证其确实犯有谋杀罪。伦纳德几乎陷入绝境，直到一个神秘女人的出现…… 墙上的犬形图案；召唤死亡的收音机；蓝色瓷罐的秘密；一只疯狂的灰猫……十一篇神秘的怪谈，最可怕的不是“幽灵”，而是你心中的魔鬼。', '中文', '35.00', '2017-05-01', 9, 1 ),
	( 12, '少有人走的路', 'M·斯科特·派克 ', '吉林文史出版社', '9787807023777', '这本书处处透露出沟通与理解的意味，它跨越时代限制，帮助我们探索爱的本质，引导我们过上崭新，宁静而丰富的生活；它帮助我们学习爱，也学习独立；它教诲我们成为更称职的、更有理解心的父母。归根到底，它告诉我们怎样找到真正的自我。 正如开篇所言：人生苦难重重。M·斯科特·派克让我们更加清楚：人生是一场艰辛之旅，心智成熟的旅程相当漫长。但是，他没有让我们感到恐惧，相反，他带领我们去经历一系列艰难乃至痛苦的转变，最终达到自我认知的更高境界。', '中文', '26.00', '2007-01-01', 9, 1 ),
	( 13, '追寻生命的意义', '[奥] 维克多·弗兰克 ', '新华出版社', '9787501162734', '《追寻生命的意义》是一个人面对巨大的苦难时，用来拯救自己的内在世界，同时也是一个关于每个人存在的价值和能者多劳们生存的社会所应担负职责的思考。本书对于每一个想要了解我们这个时代的人来说，都是一部必不可少的读物。这是一部令人鼓舞的杰作……他是一个不可思议的人，任何人都可以从他无比痛苦的经历中，获得拯救自己的经验……高度推荐。', '中文', '12.00', '2003-01-01', 9, 0 ),
	( 14, '地火', '	韩松 ', '北京联合出版公司', '9787550252585', '	一部硬科幻小说，讲述了人类在地下世界的生存故事', '中文', '42.00', '2015-06-01', 9, 1 );
CREATE TABLE `class_info` ( `class_id` INT NOT NULL PRIMARY KEY, `class_name` VARCHAR ( 15 ) NOT NULL ) ENGINE = INNODB DEFAULT CHARSET = utf8;
INSERT INTO `class_info`
VALUES
	( 1, '马克思主义' ),
	( 2, '哲学' ),
	( 3, '社会科学总论' ),
	( 4, '政治法律' ),
	( 5, '军事' ),
	( 6, '经济' ),
	( 7, '文化' ),
	( 8, '语言' ),
	( 9, '文学' ),
	( 10, '艺术' ),
	( 11, '历史地理' ),
	( 12, '自然科学总论' ),
	( 13, ' 数理科学和化学' ),
	( 14, '天文学、地球科学' ),
	( 15, '生物科学' ),
	( 16, '医药、卫生' ),
	( 17, '农业科学' ),
	( 18, '工业技术' ),
	( 19, '交通运输' ),
	( 20, '航空、航天' ),
	( 21, '环境科学' ),
	( 22, '综合' );
CREATE TABLE `lend_list` (
	`ser_num` BIGINT NOT NULL PRIMARY KEY,
	`book_id` BIGINT NOT NULL,
	`reader_id` BIGINT NOT NULL,
	`lend_date` date DEFAULT NULL,
	`back_date` date DEFAULT NULL 
) ENGINE = INNODB DEFAULT CHARSET = utf8;
ALTER TABLE `lend_list` MODIFY `ser_num` BIGINT NOT NULL AUTO_INCREMENT,
AUTO_INCREMENT = 1;
INSERT INTO `lend_list`
VALUES
	( 1, 1, 10000, '2017-03-15', '2017-06-16' ),
	( 2, 2, 10001, '2017-06-10', '2017-09-02' ),
	( 3, 3, 10003, '2017-06-12', '2017-09-02' ),
	( 4, 4, 10000, '2017-03-15', '2017-09-03' ),
	( 5, 5, 10002, '2017-06-15', NULL ),
	( 6, 6, 10000, '2017-06-15', NULL ),
	( 7, 1, 10001, '2017-09-02', '2017-09-02' );
CREATE TABLE `reader_info` (
	`reader_id` BIGINT NOT NULL PRIMARY KEY,
	`name` VARCHAR ( 10 ) NOT NULL,
	`sex` VARCHAR ( 2 ) NOT NULL,
	`birth` date NOT NULL,
	`address` VARCHAR ( 50 ) NOT NULL,
	`phone` VARCHAR ( 15 ) NOT NULL 
) ENGINE = INNODB DEFAULT CHARSET = utf8;
ALTER TABLE `reader_info` MODIFY `reader_id` BIGINT NOT NULL AUTO_INCREMENT,
AUTO_INCREMENT = 10000;
INSERT INTO `reader_info` ( NAME, sex, birth, address, phone )
VALUES
	( '小明', '男', '1995-06-10', '天津市', '12345678900' ),
	( '小红', '男', '1996-02-01', '北京市', '12345678909' ),
	( '小黄', '女', '1995-04-15', '浙江省杭州市', '12345678908' ),
	( '小蓝', '男', '1996-08-29', '陕西省西安市', '12345678907' ),
	( '小绿', '男', '1996-01-01', '陕西省西安市', '15123659875' ),
	( '小刚', '男', '1996-05-03', '山东省青岛市', '15369874123' );
CREATE TABLE `reader_card` ( `reader_id` BIGINT NOT NULL PRIMARY KEY, `username` VARCHAR ( 15 ) NOT NULL, `password` VARCHAR ( 15 ) NOT NULL ) ENGINE = INNODB DEFAULT CHARSET = utf8;
INSERT INTO `reader_card`
VALUES
	( 10000, '小明', '123456' ),
	( 10001, '小红', '123456' ),
	( 10002, '小黄', '123456' ),
	( 10003, '小蓝', '123456' ),
	( 10004, '小绿', '123456' ),
	( 10005, '小刚', '123456' );
COMMIT;